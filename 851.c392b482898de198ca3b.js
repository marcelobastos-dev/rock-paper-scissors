"use strict";(self.webpackChunkrock_paper_scissors=self.webpackChunkrock_paper_scissors||[]).push([[851],{851:(y,l,r)=>{r.r(l),r.d(l,{GameModule:()=>w});var a=r(583),g=r(726),C=r(319),e=r(639),s=r(215);let m=(()=>{class n{constructor(){this.gameOptions=[{color:"primary",type:"rock",wins:["scissors"]},{color:"warning",type:"paper",wins:["rock"]},{color:"danger",type:"scissors",wins:["paper"]}],this._score=new s.X(0),this.score$=this._score.asObservable(),this._currentUserChoice=new s.X({}),this.currentUserChoice$=this._currentUserChoice.asObservable(),this._currentMachineChoice=new s.X({}),this.currentMachineChoice$=this._currentMachineChoice.asObservable(),this._battleResult=new s.X(null),this.battleResult$=this._battleResult.asObservable()}getScore(){return this._score.getValue()}setScore(t){this.score=t}set score(t){this._score.next(t)}getCurrentUserChoice(){return this._currentUserChoice.getValue()}setCurrentUserChoice(t){this.currentUserChoice=t}set currentUserChoice(t){this._currentUserChoice.next(t),this.resolveGame()}getCurrentMachineChoice(){return this._currentMachineChoice.getValue()}setCurrentMachineChoice(t){this.currentMachineChoice=t}set currentMachineChoice(t){this._currentMachineChoice.next(t)}getBattleResult(){return this._battleResult.getValue()}setBattleResult(t){this.battleResult=t}set battleResult(t){this._battleResult.next(t)}resolveGame(){const t=this.getCurrentUserChoice(),i=this.getRandomMachineChoice();let c=null;t.type===i.type?c="tie":t.wins.indexOf(i.type)>-1?(c="won",this.setScore(this.getScore()+1)):c="lost",this.setCurrentMachineChoice(i),this.battleResult=c}getRandomMachineChoice(){return this.gameOptions[(0,c=this.gameOptions.length-1,Math.floor(Math.random()*(c-0+1))+0)];var c}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=e.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),_=(()=>{class n{constructor(t){this.gameControlService=t}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(m))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-game-header"]],decls:14,vars:3,consts:[[1,"game-header"],[1,"available-game-options"],[1,"game-score"],[1,"label"],[1,"total"]],template:function(t,i){1&t&&(e.TgZ(0,"div",0),e.TgZ(1,"div",1),e.TgZ(2,"span"),e._uU(3,"Rock"),e.qZA(),e.TgZ(4,"span"),e._uU(5,"Paper"),e.qZA(),e.TgZ(6,"span"),e._uU(7,"Scissors"),e.qZA(),e.qZA(),e.TgZ(8,"div",2),e.TgZ(9,"span",3),e._uU(10,"Score"),e.qZA(),e.TgZ(11,"span",4),e._uU(12),e.ALo(13,"async"),e.qZA(),e.qZA(),e.qZA()),2&t&&(e.xp6(12),e.Oqu(e.lcZ(13,1,i.gameControlService.score$)))},pipes:[a.Ov],styles:[".game-header[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center;justify-content:space-between;border:1px solid #fff;border-radius:1rem;padding:1rem;max-width:30rem;margin:0 auto 5rem}.game-header[_ngcontent-%COMP%]   .available-game-options[_ngcontent-%COMP%]{display:flex;flex-direction:column}.game-header[_ngcontent-%COMP%]   .available-game-options[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-weight:700;text-transform:uppercase}.game-header[_ngcontent-%COMP%]   .game-score[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-self:stretch;background-color:#fff;padding:.5rem 1.5rem;border-radius:1rem}.game-header[_ngcontent-%COMP%]   .game-score[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%], .game-header[_ngcontent-%COMP%]   .game-score[_ngcontent-%COMP%]   .total[_ngcontent-%COMP%]{color:#0e071f;font-weight:700}.game-header[_ngcontent-%COMP%]   .game-score[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%]{margin-bottom:.35rem;font-size:.65rem;text-transform:uppercase}.game-header[_ngcontent-%COMP%]   .game-score[_ngcontent-%COMP%]   .total[_ngcontent-%COMP%]{font-size:2rem;text-align:center}"]}),n})(),p=(()=>{class n{constructor(){this.gameOption={},this.clicked=new e.vpe}ngOnInit(){}optionClicked(){this.clicked.emit(this.gameOption)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-game-option"]],inputs:{gameOption:"gameOption"},outputs:{clicked:"clicked"},decls:2,vars:2,consts:[[1,"game-option",3,"ngClass","click"],["alt","Game option icon",3,"src"]],template:function(t,i){1&t&&(e.TgZ(0,"div",0),e.NdJ("click",function(){return i.optionClicked()}),e._UZ(1,"img",1),e.qZA()),2&t&&(e.Q6J("ngClass",(null==i.gameOption?null:i.gameOption.color)||""),e.xp6(1),e.Q6J("src","assets/icons/"+(null==i.gameOption?null:i.gameOption.type)+".svg",e.LSH))},directives:[a.mk],styles:[".game-option[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;width:8rem;height:8rem;border:1rem solid #fff;border-radius:50%;background-color:#fff;box-shadow:inset 0 4px 0 2px #0003;cursor:pointer}.game-option[_ngcontent-%COMP%]:hover{opacity:.9}.game-option.primary[_ngcontent-%COMP%]{border-color:#516ef5}.game-option.info[_ngcontent-%COMP%]{border-color:#48b4cc}.game-option.success[_ngcontent-%COMP%]{border-color:#70e3a9}.game-option.danger[_ngcontent-%COMP%]{border-color:#df5158}.game-option.warning[_ngcontent-%COMP%]{border-color:#f29f17}"]}),n})();function h(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"app-game-option",2),e.NdJ("clicked",function(c){return e.CHM(t),e.oxw().setUserChoice(c)}),e.qZA()}2&n&&e.Q6J("gameOption",o.$implicit)}let d=(()=>{class n{constructor(t){this.gameControlService=t,this.options=[]}ngOnInit(){this.options=this.gameControlService.gameOptions}setUserChoice(t){this.gameControlService.setCurrentUserChoice(t)}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(m))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-game-options-list"]],decls:2,vars:1,consts:[[1,"game-options-list"],[3,"gameOption","clicked",4,"ngFor","ngForOf"],[3,"gameOption","clicked"]],template:function(t,i){1&t&&(e.TgZ(0,"div",0),e.YNc(1,h,1,1,"app-game-option",1),e.qZA()),2&t&&(e.xp6(1),e.Q6J("ngForOf",i.options))},directives:[a.sg,p],styles:[".game-options-list[_ngcontent-%COMP%]{display:flex;flex-direction:row;flex-wrap:wrap;align-items:center;justify-content:center;grid-gap:1rem;gap:1rem;padding:1rem}"]}),n})();function f(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"div",9),e.TgZ(1,"span",10),e._uU(2,"Voc\xea venceu!"),e.qZA(),e.TgZ(3,"button",11),e.NdJ("click",function(){return e.CHM(t),e.oxw().continueGame()}),e._uU(4,"Jogar novamente"),e.qZA(),e.qZA()}}function O(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"div",12),e.TgZ(1,"span",10),e._uU(2,"Empate!"),e.qZA(),e.TgZ(3,"button",11),e.NdJ("click",function(){return e.CHM(t),e.oxw().continueGame()}),e._uU(4,"Jogar novamente"),e.qZA(),e.qZA()}}function M(n,o){if(1&n){const t=e.EpF();e.TgZ(0,"div",13),e.TgZ(1,"span",10),e._uU(2,"Voc\xea perdeu :("),e.qZA(),e.TgZ(3,"span",14),e._uU(4),e.ALo(5,"async"),e.qZA(),e.TgZ(6,"button",11),e.NdJ("click",function(){return e.CHM(t),e.oxw().resetGame()}),e._uU(7,"Reiniciar"),e.qZA(),e.qZA()}if(2&n){const t=e.oxw();e.xp6(4),e.hij("Sua pontua\xe7\xe3o foi: ",e.lcZ(5,1,t.gameControlService.score$),"")}}let v=(()=>{class n{constructor(t){this.gameControlService=t}ngOnInit(){}continueGame(){this.gameControlService.setBattleResult(null)}resetGame(){this.gameControlService.setScore(0),this.continueGame()}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(m))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-game-result"]],decls:16,vars:12,consts:[[1,"battle-items"],[1,"user-choice"],[3,"gameOption"],[1,"label"],[1,"machine-choice"],[3,"ngSwitch"],["class","won-game",4,"ngSwitchCase"],["class","game-tie",4,"ngSwitchCase"],["class","game-over",4,"ngSwitchCase"],[1,"won-game"],[1,"message"],["role","button",1,"action",3,"click"],[1,"game-tie"],[1,"game-over"],[1,"score"]],template:function(t,i){1&t&&(e.TgZ(0,"div",0),e.TgZ(1,"div",1),e._UZ(2,"app-game-option",2),e.ALo(3,"async"),e.TgZ(4,"span",3),e._uU(5,"Voc\xea"),e.qZA(),e.qZA(),e.TgZ(6,"div",4),e._UZ(7,"app-game-option",2),e.ALo(8,"async"),e.TgZ(9,"span",3),e._uU(10,"M\xe1quina"),e.qZA(),e.qZA(),e.qZA(),e.TgZ(11,"div",5),e.ALo(12,"async"),e.YNc(13,f,5,0,"div",6),e.YNc(14,O,5,0,"div",7),e.YNc(15,M,8,3,"div",8),e.qZA()),2&t&&(e.xp6(2),e.Q6J("gameOption",e.lcZ(3,6,i.gameControlService.currentUserChoice$)),e.xp6(5),e.Q6J("gameOption",e.lcZ(8,8,i.gameControlService.currentMachineChoice$)),e.xp6(4),e.Q6J("ngSwitch",e.lcZ(12,10,i.gameControlService.battleResult$)),e.xp6(2),e.Q6J("ngSwitchCase","won"),e.xp6(1),e.Q6J("ngSwitchCase","tie"),e.xp6(1),e.Q6J("ngSwitchCase","lost"))},directives:[p,a.RF,a.n9],pipes:[a.Ov],styles:[".battle-items[_ngcontent-%COMP%]{display:flex;grid-gap:2rem;gap:2rem;align-items:center;justify-content:center}.battle-items[_ngcontent-%COMP%]   .user-choice[_ngcontent-%COMP%], .battle-items[_ngcontent-%COMP%]   .machine-choice[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center}.battle-items[_ngcontent-%COMP%]   .user-choice[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%], .battle-items[_ngcontent-%COMP%]   .machine-choice[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%]{margin-top:1rem;text-transform:uppercase}.won-game[_ngcontent-%COMP%], .game-tie[_ngcontent-%COMP%], .game-over[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:flex-start}.won-game[_ngcontent-%COMP%]   .message[_ngcontent-%COMP%], .game-tie[_ngcontent-%COMP%]   .message[_ngcontent-%COMP%], .game-over[_ngcontent-%COMP%]   .message[_ngcontent-%COMP%]{margin-top:4rem;text-transform:uppercase;font-size:1.5rem;font-weight:700}.won-game[_ngcontent-%COMP%]   .score[_ngcontent-%COMP%], .game-tie[_ngcontent-%COMP%]   .score[_ngcontent-%COMP%], .game-over[_ngcontent-%COMP%]   .score[_ngcontent-%COMP%]{margin-top:1rem}.won-game[_ngcontent-%COMP%]   .action[_ngcontent-%COMP%], .game-tie[_ngcontent-%COMP%]   .action[_ngcontent-%COMP%], .game-over[_ngcontent-%COMP%]   .action[_ngcontent-%COMP%]{outline:none;border:none;border-radius:1rem;background-color:#fff;color:#0e071f;height:2.7rem;line-height:2.7rem;margin-top:2rem;padding:0 4rem;text-transform:uppercase;font-weight:700}.won-game[_ngcontent-%COMP%]   .action[_ngcontent-%COMP%]:hover, .game-tie[_ngcontent-%COMP%]   .action[_ngcontent-%COMP%]:hover, .game-over[_ngcontent-%COMP%]   .action[_ngcontent-%COMP%]:hover{opacity:.9;cursor:pointer}"]}),n})();function P(n,o){1&n&&e._UZ(0,"div")}function Z(n,o){1&n&&e._UZ(0,"app-game-options-list")}function b(n,o){1&n&&e._UZ(0,"app-game-result")}const x=[{path:"",component:(()=>{class n{constructor(t){this.gameControlService=t,this.subscription=new C.w,this.showGameOptions=!0}ngOnInit(){this.subscription.add(this.gameControlService.battleResult$.subscribe({next:t=>{console.log(t),this.showGameOptions=null==t}}))}ngOnDestroy(){this.subscription.unsubscribe()}}return n.\u0275fac=function(t){return new(t||n)(e.Y36(m))},n.\u0275cmp=e.Xpm({type:n,selectors:[["app-game"]],decls:7,vars:3,consts:[[4,"ngIf","ngIfThen","ngIfElse"],["tempGameOptions",""],["tempGameResult",""]],template:function(t,i){if(1&t&&(e.TgZ(0,"main"),e._UZ(1,"app-game-header"),e.YNc(2,P,1,0,"div",0),e.YNc(3,Z,1,0,"ng-template",null,1,e.W1O),e.YNc(5,b,1,0,"ng-template",null,2,e.W1O),e.qZA()),2&t){const c=e.MAs(4),u=e.MAs(6);e.xp6(2),e.Q6J("ngIf",i.showGameOptions)("ngIfThen",c)("ngIfElse",u)}},directives:[_,a.O5,d,v],styles:["main[_ngcontent-%COMP%]{padding:2rem 1rem}"]}),n})()}];let G=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[[g.Bz.forChild(x)],g.Bz]}),n})(),w=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.oAB({type:n}),n.\u0275inj=e.cJS({imports:[[a.ez,G]]}),n})()}}]);